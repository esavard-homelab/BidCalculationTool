<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="SEQUENCE" height="761px" preserveAspectRatio="none" style="width:1058px;height:761px;background:#FFFFFF;" version="1.1" viewBox="0 0 1058 761" width="1058px" zoomAndPan="magnify"><title>Bid Calculation - User Flow (Sequence Diagram)</title><defs/><g><text fill="#000000" font-family="Verdana" font-size="22" font-weight="bold" lengthAdjust="spacing" textLength="594.1826" x="235.8008" y="35.4209">Bid Calculation - User Flow (Sequence Diagram)</text><g><title>User</title><rect fill="#000000" fill-opacity="0.00000" height="551.1016" width="8" x="54.9551" y="128.9063"/><line style="stroke:#000000;stroke-width:1;" x1="58" x2="58" y1="128.9063" y2="680.0078"/></g><g><title>Web Interface</title><rect fill="#000000" fill-opacity="0.00000" height="551.1016" width="8" x="333.6865" y="128.9063"/><line style="stroke:#000000;stroke-width:1;" x1="337.4507" x2="337.4507" y1="128.9063" y2="680.0078"/></g><g><title>API Backend</title><rect fill="#000000" fill-opacity="0.00000" height="551.1016" width="8" x="557.1553" y="128.9063"/><line style="stroke:#000000;stroke-width:1;" x1="560.6753" x2="560.6753" y1="128.9063" y2="680.0078"/></g><g><title>Calculation Service</title><rect fill="#000000" fill-opacity="0.00000" height="551.1016" width="8" x="753.4434" y="128.9063"/><line style="stroke:#000000;stroke-width:1;" x1="757.2974" x2="757.2974" y1="128.9063" y2="680.0078"/></g><g class="participant participant-head" data-participant="user"><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="31.9102" x="40" y="125.6045">User</text><ellipse cx="58.9551" cy="60.6094" fill="#FFFFFF" rx="8" ry="8" style="stroke:#000000;stroke-width:1;"/><path d="M58.9551,68.6094 L58.9551,95.6094 M45.9551,76.6094 L71.9551,76.6094 M58.9551,95.6094 L45.9551,110.6094 M58.9551,95.6094 L71.9551,110.6094" fill="none" style="stroke:#000000;stroke-width:1;"/></g><g class="participant participant-tail" data-participant="user"><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="31.9102" x="40" y="692.0029">User</text><ellipse cx="58.9551" cy="704.3047" fill="#FFFFFF" rx="8" ry="8" style="stroke:#000000;stroke-width:1;"/><path d="M58.9551,712.3047 L58.9551,739.3047 M45.9551,720.3047 L71.9551,720.3047 M58.9551,739.3047 L45.9551,754.3047 M58.9551,739.3047 L71.9551,754.3047" fill="none" style="stroke:#000000;stroke-width:1;"/></g><g class="participant participant-head" data-participant="ui"><rect fill="#FFFFFF" height="30.2969" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="112.4717" x="281.4507" y="97.6094"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="98.4717" x="288.4507" y="117.6045">Web Interface</text></g><g class="participant participant-tail" data-participant="ui"><rect fill="#FFFFFF" height="30.2969" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="112.4717" x="281.4507" y="679.0078"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="98.4717" x="288.4507" y="699.0029">Web Interface</text></g><g class="participant participant-head" data-participant="api"><rect fill="#FFFFFF" height="30.2969" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="100.96" x="510.6753" y="97.6094"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="86.96" x="517.6753" y="117.6045">API Backend</text></g><g class="participant participant-tail" data-participant="api"><rect fill="#FFFFFF" height="30.2969" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="100.96" x="510.6753" y="679.0078"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="86.96" x="517.6753" y="699.0029">API Backend</text></g><g class="participant participant-head" data-participant="calc"><rect fill="#FFFFFF" height="30.2969" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="148.292" x="683.2974" y="97.6094"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="134.292" x="690.2974" y="117.6045">Calculation Service</text></g><g class="participant participant-tail" data-participant="calc"><rect fill="#FFFFFF" height="30.2969" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="148.292" x="683.2974" y="679.0078"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="134.292" x="690.2974" y="699.0029">Calculation Service</text></g><g class="message" data-participant-1="user" data-participant-2="ui"><polygon fill="#000000" points="325.6865,156.0391,335.6865,160.0391,325.6865,164.0391,329.6865,160.0391" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="58.9551" x2="331.6865" y1="160.0391" y2="160.0391"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="133.8721" x="65.9551" y="154.9731">1. Opens application</text></g><g class="message" data-participant-1="ui" data-participant-2="api"><polygon fill="#000000" points="549.1553,188.1719,559.1553,192.1719,549.1553,196.1719,553.1553,192.1719" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="337.6865" x2="555.1553" y1="192.1719" y2="192.1719"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="157.5996" x="344.6865" y="187.106">2. GET /api/vehicletypes</text></g><path d="M566,173.0391 L566,198.0391 L778,198.0391 L778,183.0391 L768,173.0391 L566,173.0391" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><path d="M768,173.0391 L768,183.0391 L778,183.0391 L768,173.0391" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="191.3755" x="572" y="190.106">Loads available vehicle types</text><g class="message" data-participant-1="api" data-participant-2="ui"><polygon fill="#000000" points="348.6865,223.3047,338.6865,227.3047,348.6865,231.3047,344.6865,227.3047" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="342.6865" x2="560.1553" y1="227.3047" y2="227.3047"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="157.6377" x="354.6865" y="222.2388">3. Returns vehicle types</text></g><path d="M166,208.1719 L166,233.1719 L332,233.1719 L332,218.1719 L322,208.1719 L166,208.1719" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><path d="M322,208.1719 L322,218.1719 L332,218.1719 L322,208.1719" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="145.3296" x="172" y="225.2388">["Common", "Luxury"]</text><g class="message" data-participant-1="ui" data-participant-2="user"><polygon fill="#000000" points="69.9551,255.4375,59.9551,259.4375,69.9551,263.4375,65.9551,259.4375" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="63.9551" x2="336.6865" y1="259.4375" y2="259.4375"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="239.7954" x="75.9551" y="254.3716">4. Displays form with type dropdown</text></g><g class="message" data-participant-1="user" data-participant-2="ui"><polygon fill="#000000" points="325.6865,284.5703,335.6865,288.5703,325.6865,292.5703,329.6865,288.5703" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="58.9551" x2="331.6865" y1="288.5703" y2="288.5703"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="204.8833" x="65.9551" y="283.5044">5. Enters vehicle price ($1,000)</text></g><g class="message" data-participant-1="user" data-participant-2="ui"><polygon fill="#000000" points="325.6865,313.7031,335.6865,317.7031,325.6865,321.7031,329.6865,317.7031" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="58.9551" x2="331.6865" y1="317.7031" y2="317.7031"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="218.2451" x="65.9551" y="312.6372">6. Selects type (Common/Luxury)</text></g><g class="message" data-participant-1="ui" data-participant-2="api"><polygon fill="#000000" points="549.1553,345.8359,559.1553,349.8359,549.1553,353.8359,553.1553,349.8359" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="337.6865" x2="555.1553" y1="349.8359" y2="349.8359"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="174.2305" x="344.6865" y="344.77">7. POST /api/bidcalculation</text></g><path d="M566,330.7031 L566,355.7031 L866,355.7031 L866,340.7031 L856,330.7031 L566,330.7031" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><path d="M856,330.7031 L856,340.7031 L866,340.7031 L856,330.7031" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="279.8809" x="572" y="347.77">{"price": 1000, "vehicleType": "Common"}</text><g class="message" data-participant-1="api" data-participant-2="calc"><polygon fill="#000000" points="745.4434,403.668,755.4434,407.668,745.4434,411.668,749.4434,407.668" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="561.1553" x2="751.4434" y1="407.668" y2="407.668"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="115.502" x="568.1553" y="402.6021">8. Calculates fees</text></g><path d="M762,365.8359 L762,435.8359 L1051,435.8359 L1051,375.8359 L1041,365.8359 L762,365.8359" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><path d="M1041,365.8359 L1041,375.8359 L1051,375.8359 L1041,365.8359" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="268.3408" x="768" y="382.9028">&#8226; Buyer fee: 10% (max $50 for Common)</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="197.1709" x="768" y="398.0356">&#8226; Special fee: 2% for Common</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="257.0229" x="768" y="413.1685">&#8226; Association fee: based on price range</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="165.2295" x="768" y="428.3013">&#8226; Storage fee: $100 fixed</text><g class="message" data-participant-1="calc" data-participant-2="api"><polygon fill="#000000" points="572.1553,461.5,562.1553,465.5,572.1553,469.5,568.1553,465.5" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="566.1553" x2="756.4434" y1="465.5" y2="465.5"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="172.2881" x="578.1553" y="460.4341">9. Returns calculated total</text></g><path d="M273,446.3672 L273,471.3672 L555,471.3672 L555,456.3672 L545,446.3672 L273,446.3672" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><path d="M545,446.3672 L545,456.3672 L555,456.3672 L545,446.3672" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="261.606" x="279" y="463.4341">{"totalPrice": 1180, "breakdown": {...}}</text><g class="message" data-participant-1="api" data-participant-2="ui"><polygon fill="#000000" points="348.6865,493.6328,338.6865,497.6328,348.6865,501.6328,344.6865,497.6328" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="342.6865" x2="560.1553" y1="497.6328" y2="497.6328"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="199.4688" x="354.6865" y="492.5669">10. JSON response with details</text></g><g class="message" data-participant-1="ui" data-participant-2="user"><polygon fill="#000000" points="69.9551,522.7656,59.9551,526.7656,69.9551,530.7656,65.9551,526.7656" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="63.9551" x2="336.6865" y1="526.7656" y2="526.7656"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="254.7314" x="75.9551" y="521.6997">11. Displays total price and breakdown</text></g><path d="M10,539.7656 L10,664.7656 L806,664.7656 L806,549.7656 L796,539.7656 L10,539.7656" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><path d="M796,539.7656 L796,549.7656 L806,549.7656 L796,539.7656" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="291.8716" x="257.8589" y="556.8325">Example for Common vehicle at $1,000:</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="122.1416" x="257.8589" y="571.9653">Base price: $1,000</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="111.249" x="257.8589" y="587.0981">+ Buyer fee: $50</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="119.8945" x="257.8589" y="602.231">+ Special fee: $20</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="147.0752" x="257.8589" y="617.3638">+ Association fee: $10</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="132.1899" x="257.8589" y="632.4966">+ Storage fee: $100</text><text fill="#000000" font-family="Verdana" font-size="21" font-weight="bold" lengthAdjust="spacing" textLength="156.9053" x="257.8589" y="655.0552">Total: $1,180</text><!--SRC=[PLFRRjD047tVhnYiL4f2wYI5Gea4KbDIL5IHY0JnW7YOs9DaLTjhrkiqKLM9R-7J-19cTvsBmvjtzkoPCsUENvWLfGHvWZ8JmaYJ40nb33UOH6M2HgeCpk5RGHfk4_K8pIdzAYcB23vAN6fCMq9WP9I6m882m09A_X0vQYCZcMDc8FXESxZB3Ea5HkGniewudjp14AC7oc9tZ_a9u5ZGbFHQLaGHruMmBU7y0zF20FeXZ7FAB4cUoCYz4Np3zqpBW8iGFercqELJTqqh6ILajZaL8bE6GClboZ3gNc7C76kK2SxPbWe97cgPTWrVXV2LJAcvPHta-19QMBeVmOrAKvK57GZkoqsfjy7FIfLJFu3N8PjQy2gs1IoKJk5HcfLZWbYhF5QFsScabo6ChAs7lhbcOw3Pw7TwlLwhZduJidC9HQRmf4qlgElLj6eMlGrXCfvM7irb71tihxlq5BYM0TlE7NcsIicCEt1nD_Ips3bccVZTLRZF6F6uL7DV0Fpz_GU6vPRbyvqbFuDcYXjeNFQiEU1vMnLocbCaCV7OYxCZH0MuBWh521SV1vfZGJ7moJkcCLlIZepZZ4lok0QF1GkveLXmDi5g5CBDiFVgtM7zEvkOsYY3IIq1Ju6hJNP-zQ-iNtDD-61towMdC0oV3rRvDFT2-3mTVm5DHQwoWdmiOZ8SpAAUe7x_A4AkMJKUilHz8-5LgJM_iGyx_YS2QBT76qnpZj71ltsoq81FrQ3TPkoG_VFaWwhEnPV7A-DDkL9jDusB7e0h_xSHTjhZJ-tdwdlMDhFpk6Pi76lOh-CV]--></g></svg>